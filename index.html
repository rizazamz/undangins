<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Pernikahan Riza & Wangi</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Tangerine:wght@700&family=Great+Vibes&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <!-- Animate On Scroll Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Custom styles for the theme */
        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: #FDF8F0; /* Softer beige background */
            color: #5D4037; /* Dark Brown text */
            overflow-x: hidden;
        }

        /* Parallax Background */
        .parallax-bg {
            background-image: url('https://www.transparenttextures.com/patterns/batthern.png');
            background-attachment: fixed;
            background-position: center;
            background-repeat: repeat;
            background-size: auto;
        }

        /* Custom color palette */
        .bg-theme-beige { background-color: #FDF8F0; }
        .bg-theme-brown { background-color: #A1887F; }
        .text-theme-gold { color: #CAA963; } /* Softer Gold */
        .border-theme-gold { border-color: #CAA963; }
        .shadow-gold { box-shadow: 0 0 20px rgba(202, 169, 99, 0.6); }
        .text-theme-dark-brown { color: #4E342E; } /* Darker brown for better contrast */

        /* Typography */
        .font-tangerine { font-family: 'Tangerine', cursive; }
        .font-great-vibes { font-family: 'Great Vibes', cursive; }
        .font-dancing-script { font-family: 'Dancing Script', cursive; }
        
        /* Cover animation */
        #cover {
            transition: opacity 1.5s ease-out, transform 1.5s ease-out;
            background: linear-gradient(to top, #FDF8F0, #f8f0e4);
        }
        #cover.hidden {
            opacity: 0;
            transform: translateY(-100%);
            pointer-events: none;
        }
        
        /* Music button pulse animation */
        @keyframes pulse-animation {
            0% { box-shadow: 0 0 0 0 rgba(202, 169, 99, 0.7); }
            100% { box-shadow: 0 0 0 20px rgba(202, 169, 99, 0); }
        }
        .pulse { animation: pulse-animation 2s infinite; }

        /* Gunungan SVG Styling */
        .gunungan-cover {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 500px;
            opacity: 0.1;
            z-index: -1;
        }

        /* Love Story Timeline */
        .timeline-item {
            position: relative;
            padding-left: 30px;
            margin-bottom: 2rem;
            border-left: 2px solid #CAA963;
        }
        .timeline-dot {
            position: absolute;
            left: -9px;
            top: 5px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background-color: #CAA963;
        }
        .timeline-item:last-child {
             border-left: 2px solid transparent;
        }
        
        /* Photo Gallery Slideshow */
        .gallery-container {
            overflow: hidden;
            border-radius: 0.75rem;
            position: relative;
        }
        .gallery-image {
            width: 100%; height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0; left: 0;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            animation: ken-burns 20s infinite;
        }
        .gallery-image.active {
            opacity: 1;
        }
        @keyframes ken-burns {
            0% { transform: scale(1) translate(0, 0); }
            50% { transform: scale(1.2) translate(-5%, 5%); }
            100% { transform: scale(1) translate(0, 0); }
        }

        /* Static Pre-wedding Gallery */
        .gallery-item {
            overflow: hidden;
            border-radius: 0.5rem;
        }
        .gallery-item img {
            transition: transform 0.5s ease;
        }
        .gallery-item:hover img {
            transform: scale(1.1);
        }
        
        /* Guestbook styling */
        .guestbook-form input, .guestbook-form textarea {
            background-color: #FDF8F0;
            border: 1px solid #CAA963;
            color: #5D4037;
        }
        .guestbook-form input::placeholder, .guestbook-form textarea::placeholder {
            color: #A1887F;
        }
        .guestbook-card {
            background-color: rgba(255, 255, 255, 0.5);
        }

        /* Modal styling */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0; top: 0;
            width: 100%; height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            align-items: center; /* Vertically center */
            justify-content: center; /* Horizontally center */
        }
        .modal-content {
            background-color: #FDF8F0;
            margin: auto;
            padding: 2rem;
            border: 1px solid #CAA963;
            width: 90%;
            max-width: 500px;
            border-radius: 1rem;
            text-align: center;
            position: relative;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from {opacity: 0; transform: scale(0.9);}
            to {opacity: 1; transform: scale(1);}
        }
        .close-button {
            position: absolute;
            top: 1rem; right: 1.5rem;
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        /* Wayang Advice Section */
        .glass-card {
            background: rgba(253, 248, 240, 0.6); /* Lighter, more opaque background */
            backdrop-filter: blur(5px);
            border: 1px solid rgba(202, 169, 99, 0.4);
        }
    </style>
</head>
<body class="overflow-hidden parallax-bg">

    <audio id="background-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-15.mp3" type="audio/mpeg">
    </audio>

    <button id="music-button" class="fixed bottom-5 right-5 z-50 w-12 h-12 bg-theme-brown text-white rounded-full flex items-center justify-center shadow-lg" style="display: none;">
        <i id="music-icon" class="fas fa-play"></i>
    </button>

    <div id="cover" class="fixed top-0 left-0 w-full h-full z-40 flex flex-col items-center justify-center text-center p-8">
        <div class="relative" data-aos="zoom-in" data-aos-duration="1500">
            <h2 class="text-2xl md:text-3xl text-theme-dark-brown">The Wedding Of</h2>
            <h1 class="font-great-vibes text-6xl md:text-8xl my-4 text-theme-gold" style="text-shadow: 2px 2px 4px rgba(93,64,55,0.2);">Riza & Wangi</h1>
            <p class="text-lg text-theme-dark-brown mb-8">Kepada Yth. Bapak/Ibu/Saudara/i</p>
            <button id="open-invitation" class="bg-theme-brown text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-opacity-80 transition duration-300 transform hover:scale-105">
                <i class="fas fa-envelope-open mr-2"></i>Buka Undangan
            </button>
        </div>
        <img src="https://i.ibb.co/k3tCqC9/gunungan-wayang-gold.png" alt="Gunungan" class="gunungan-cover">
    </div>

    <main class="w-full relative bg-theme-beige max-w-5xl mx-auto shadow-2xl">
        <section class="min-h-screen flex flex-col items-center justify-center text-center p-8 relative overflow-hidden">
            <div data-aos="fade-up" data-aos-duration="1000">
                 <p class="text-2xl tracking-wider text-theme-dark-brown mb-4">بِسْمِ اللّٰهِ الرَّحْمٰنِ الرَّحِيْمِ</p>
                 <!-- Corrected image URL -->
                 <img src="https://i.ibb.co.com/TD12Ltx8/IMG-2771-copy.jpg" class="w-48 h-48 rounded-full mx-auto border-4 border-theme-gold shadow-gold mb-6 object-cover" alt="Foto Riza & Wangi">
                 <h2 class="text-xl md:text-2xl text-theme-dark-brown mb-2">Dengan memohon rahmat dan ridho Allah SWT, kami bermaksud menyelenggarakan pernikahan:</h2>
                 <h1 class="font-great-vibes text-6xl md:text-8xl my-4 text-theme-gold" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">Riza & Wangi</h1>
                 <p class="text-xl md:text-2xl font-semibold text-theme-dark-brown">Kamis, 2 Oktober 2025</p>
            </div>
        </section>

        <section class="py-20 px-8 text-center relative">
            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-5 gap-8 items-center">
                    <div class="md:col-span-2" data-aos="fade-right" data-aos-duration="1000">
                        <!-- Corrected groom's image with a placeholder -->
                        <img src="https://i.ibb.co/z5w7fGJ/groom-photo.jpg" class="w-48 h-48 rounded-full mx-auto border-4 border-theme-gold object-cover" alt="Mempelai Pria" onerror="this.onerror=null;this.src='https://placehold.co/200x200/A1887F/FFFFFF?text=Riza';">
                        <h3 class="font-tangerine text-6xl text-theme-gold mt-4">Riza Zamzami</h3>
                        <p class="text-lg mt-2 text-theme-dark-brown">Putra dari Bapak Ricky & Ibu Emy</p>
                    </div>
                    <div class="font-great-vibes text-7xl text-theme-gold md:col-span-1" data-aos="zoom-in" data-aos-duration="1000">&</div>
                    <div class="md:col-span-2" data-aos="fade-left" data-aos-duration="1000">
                        <!-- Corrected bride's image with a placeholder -->
                        <img src="https://i.ibb.co/k2HJfLq/bride-photo.jpg" class="w-48 h-48 rounded-full mx-auto border-4 border-theme-gold object-cover" alt="Mempelai Wanita" onerror="this.onerror=null;this.src='https://placehold.co/200x200/A1887F/FFFFFF?text=Wangi';">
                        <h3 class="font-tangerine text-6xl text-theme-gold mt-4">Wong Wangi Tungga Legawa</h3>
                        <p class="text-lg mt-2 text-theme-dark-brown">Putri dari Bapak Gonding & Ibu Rosasih</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Love Story Section -->
        <section class="py-20 px-8">
            <div class="max-w-3xl mx-auto">
                 <h2 class="font-great-vibes text-6xl text-theme-gold mb-12 text-center" data-aos="fade-down">Kisah Cinta Kami</h2>
                 <div class="relative" data-aos="fade-up">
                     <div class="timeline-item">
                         <div class="timeline-dot"></div>
                         <h3 class="font-semibold text-xl text-theme-dark-brown mb-1">2016 - Awal Pertemuan</h3>
                         <p class="text-theme-dark-brown">Kisah kami berawal dari sebuah ketidaksengajaan di Sekolah, di mana takdir mempertemukan kami dalam canda dan tawa serta percakapan yang hangat.</p>
                     </div>
                     <div class="timeline-item">
                         <div class="timeline-dot"></div>
                         <h3 class="font-semibold text-xl text-theme-dark-brown mb-1">2025 - Lamaran</h3>
                         <p class="text-theme-dark-brown">Sembilan tahun berlalu, ikatan kami semakin kuat. Dengan restu keluarga, kami mengambil langkah serius untuk menyatukan dua hati dalam ikatan suci.</p>
                     </div>
                     <div class="timeline-item">
                         <div class="timeline-dot"></div>
                         <h3 class="font-semibold text-xl text-theme-dark-brown mb-1">2025 - Menuju Hari Bahagia</h3>
                         <p class="text-theme-dark-brown">Dan kini, kami siap melangkah ke jenjang berikutnya, membangun bahtera rumah tangga. Kami mengundang Anda untuk menjadi saksi perjalanan cinta kami.</p>
                     </div>
                 </div>
            </div>
        </section>
        
        <section class="py-20 px-8 text-center bg-theme-brown text-white relative">
             <div class="absolute inset-0 bg-black opacity-20"></div>
             <div class="relative z-10 max-w-5xl mx-auto">
                <h2 class="font-great-vibes text-6xl text-theme-gold mb-8" data-aos="fade-down">Save The Date</h2>
                <div id="countdown" class="flex justify-center space-x-2 md:space-x-8 text-center my-10" data-aos="zoom-in">
                    <div><div id="days" class="text-4xl md:text-6xl font-bold">00</div><div class="text-sm">Hari</div></div>
                    <div><div id="hours" class="text-4xl md:text-6xl font-bold">00</div><div class="text-sm">Jam</div></div>
                    <div><div id="minutes" class="text-4xl md:text-6xl font-bold">00</div><div class="text-sm">Menit</div></div>
                    <div><div id="seconds" class="text-4xl md:text-6xl font-bold">00</div><div class="text-sm">Detik</div></div>
                </div>
                <div class="grid md:grid-cols-2 gap-8 mt-12">
                    <div class="bg-theme-beige bg-opacity-95 p-8 rounded-lg shadow-lg" data-aos="fade-up" data-aos-delay="200">
                        <h3 class="font-great-vibes text-5xl text-theme-gold mb-4">Akad Nikah</h3>
                        <p class="font-semibold text-theme-dark-brown">Kamis, 2 Oktober 2025 | 09:00 WIB</p>
                        <hr class="my-4 border-theme-gold border-opacity-50">
                        <p class="font-semibold text-theme-dark-brown">Kediaman Mempelai Wanita</p>
                        <a href="https://maps.app.goo.gl/FKX2Bc9k42jWpqgb9" target="_blank" class="inline-block mt-4 bg-theme-brown text-white py-2 px-6 rounded-full hover:bg-opacity-80 transition transform hover:scale-105">Lihat Peta</a>
                    </div>
                    <div class="bg-theme-beige bg-opacity-95 p-8 rounded-lg shadow-lg" data-aos="fade-up" data-aos-delay="400">
                        <h3 class="font-great-vibes text-5xl text-theme-gold mb-4">Resepsi</h3>
                        <p class="font-semibold text-theme-dark-brown">Kamis, 2 Oktober 2025 | 19:00 WIB</p>
                        <hr class="my-4 border-theme-gold border-opacity-50">
                        <p class="font-semibold text-theme-dark-brown">Gedung Secret, Pemalang</p>
                        <a href="https://maps.app.goo.gl/TwXiGYGxAYmQsTca9" target="_blank" class="inline-block mt-4 bg-theme-brown text-white py-2 px-6 rounded-full hover:bg-opacity-80 transition transform hover:scale-105">Lihat Peta</a>
                    </div>
                </div>
             </div>
        </section>

        <!-- Slideshow Photo Gallery Section -->
        <section class="py-24 px-8">
            <div class="max-w-4xl mx-auto text-center" data-aos="fade-up">
                 <h2 class="font-dancing-script text-6xl text-theme-gold mb-4">Momen Bahagia</h2>
                 <p class="text-lg text-theme-dark-brown mb-8">Kilasan cerita cinta kami dalam bingkai kenangan.</p>
                 <div class="gallery-container w-full h-96 shadow-2xl rounded-lg">
                    <!-- Added real images for the gallery -->
                     <img src="https://i.ibb.co.com/5PBPVB9/IMG-2787.jpg" class="gallery-image active" alt="Galeri Foto 1" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/2E1A2A/FFFFFF?text=Momen+Indah+1';">
                     <img src="https://i.ibb.co.com/bpjyKqm/IMG-2814.jpg" class="gallery-image" alt="Galeri Foto 2" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/3B344A/FFFFFF?text=Kenangan+Manis+2';">
                     <img src="https://i.ibb.co.com/TD12Ltx8/IMG-2771-copy.jpg" class="gallery-image" alt="Galeri Foto 3" onerror="this.onerror=null;this.src='https://placehold.co/1200x800/5B5277/FFFFFF?text=Cerita+Cinta+3';">
                 </div>
            </div>
        </section>
        
        <section class="py-24 px-8" data-aos="fade-up">
            <div class="max-w-3xl mx-auto text-center">
                <h3 class="font-dancing-script text-5xl text-theme-gold mb-4">Wejangan Pernikahan</h3>
                <p class="text-lg text-theme-dark-brown mb-8">Mohon doa restu dan wejangan bijak dari para tokoh untuk perjalanan hidup kami.</p>
                <div class="glass-card p-6 rounded-2xl text-left">
                    <div class="grid md:grid-cols-2 gap-6 items-center">
                        <div>
                             <label for="wayang-character" class="block mb-2 text-sm font-medium text-theme-dark-brown">Pilih Tokoh</label>
                            <select id="wayang-character" class="w-full p-3 rounded-lg bg-theme-beige border border-theme-gold focus:ring-theme-gold focus:border-theme-gold text-theme-dark-brown">
                                <option value="Semar" data-img="https://i.pinimg.com/736x/2b/49/97/2b4997f7e26a1ed8b205d85aec13c341.jpg">Semar - Sang Bijaksana</option>
                                <option value="Kresna" data-img="https://i.pinimg.com/736x/2b/49/97/2b4997f7e26a1ed8b205d85aec13c341.jpg">Kresna - Sang Strategis</option>
                                <option value="Arjuna" data-img="https://i.pinimg.com/736x/2b/49/97/2b4997f7e26a1ed8b205d85aec13c341.jpg">Arjuna - Sang Ksatria</option>
                                <option value="Srikandi" data-img="https://i.pinimg.com/736x/2b/49/97/2b4997f7e26a1ed8b205d85aec13c341.jpg">Srikandi - Sang Pemberani</option>
                            </select>
                            <button type="button" id="generate-advice-button" class="border border-theme-gold text-theme-dark-brown w-full mt-4 flex items-center justify-center gap-2 font-semibold py-3 px-6 rounded-full transition duration-300 hover:bg-theme-gold hover:text-white">
                                <span>✨ Minta Wejangan</span>
                            </button>
                        </div>
                        <div class="text-center p-4 rounded-lg flex items-center justify-center min-h-[150px]">
                             <img id="character-image" src="https://i.pinimg.com/736x/2b/49/97/2b4997f7e26a1ed8b205d85aec13c341.jpg" class="max-h-36 transition-all duration-500" alt="Tokoh Wayang Semar">
                        </div>
                    </div>
                    <div id="advice-output" class="mt-6 p-4 bg-black/5 rounded-lg min-h-[100px] text-theme-dark-brown italic text-lg flex items-center justify-center">
                        Wejangan akan ditampilkan di sini...
                    </div>
                </div>
            </div>
        </section>

        <!-- Pre-wedding Gallery Section -->
        <section class="py-20 px-8">
            <div class="max-w-4xl mx-auto text-center">
                <h2 class="font-great-vibes text-6xl text-theme-gold mb-12" data-aos="fade-down">Galeri Pre-wedding</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 gap-4" data-aos="fade-up">
                    <div class="gallery-item shadow-lg"><img src="https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?q=80&w=2070&auto=format&fit=crop" alt="Prewedding 1" class="w-full h-full object-cover"></div>
                    <div class="gallery-item shadow-lg"><img src="https://i.pinimg.com/736x/8d/62/aa/8d62aa819d4e20b390d7099de92a29c7.jpg" alt="Prewedding 2" class="w-full h-full object-cover"></div>
                    <div class="gallery-item shadow-lg col-span-2 md:col-span-1"><img src="https://i.pinimg.com/736x/33/41/c0/3341c02e02848d53cf1d1a478997fed1.jpg" alt="Prewedding 3" class="w-full h-full object-cover"></div>
               </div>
            </div>
        </section>
        
        <section class="py-20 px-8">
            <div class="max-w-3xl mx-auto text-center">
                <h2 class="font-great-vibes text-6xl text-theme-gold mb-12" data-aos="fade-down">Ucapan & Doa</h2>
                <div class="guestbook-form mb-12" data-aos="fade-up">
                    <form id="guestbook-form">
                        <input type="text" id="guest-name" placeholder="Nama Anda" class="w-full p-3 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-theme-gold">
                        <textarea id="guest-message" rows="4" placeholder="Tuliskan ucapan dan doa Anda..." class="w-full p-3 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-theme-gold"></textarea>
                        <button type="submit" class="bg-theme-brown text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-opacity-80 transition">Kirim Ucapan</button>
                    </form>
                </div>
                <div id="guestbook-list" class="space-y-4 text-left max-h-96 overflow-y-auto pr-2">
                    <!-- Dummy Messages -->
                    <div class="guestbook-card p-4 rounded-lg shadow" data-aos="fade-up">
                        <h4 class="font-bold text-theme-dark-brown">Lestari & Keluarga</h4>
                        <p class="text-theme-dark-brown italic">"Selamat menempuh hidup baru Riza & Wangi! Semoga menjadi keluarga yang sakinah, mawaddah, warahmah. Aamiin."</p>
                    </div>
                    <div class="guestbook-card p-4 rounded-lg shadow" data-aos="fade-up" data-aos-delay="100">
                        <h4 class="font-bold text-theme-dark-brown">Mas Aris</h4>
                        <p class="text-theme-dark-brown italic">"Turut berbahagia! Lancar-lancar sampai hari H ya. Semoga pernikahan kalian selalu diberkahi kebahagiaan."</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 px-8 text-center">
            <div class="max-w-3xl mx-auto">
                <h2 class="font-great-vibes text-6xl text-theme-gold mb-4" data-aos="fade-down">Hadiah Pernikahan</h2>
                <p class="text-lg text-theme-dark-brown mb-8" data-aos="fade-up">Doa restu Anda adalah hadiah terindah bagi kami. Namun, jika Anda ingin memberikan tanda kasih, kami telah menyediakan fitur di bawah ini untuk kemudahan Anda.</p>
                <button id="show-gift-modal" class="bg-theme-brown text-white font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-opacity-80 transition duration-300 transform hover:scale-105" data-aos="zoom-in">
                    <i class="fas fa-gift mr-2"></i>Kirim Hadiah
                </button>
            </div>
        </section>

        <footer class="py-20 px-8 text-center bg-theme-brown text-white">
             <div class="max-w-3xl mx-auto" data-aos="fade-up">
                <p class="text-lg mb-4">Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan hadir untuk memberikan doa restu kepada kedua mempelai.</p>
                <p class="text-xl font-semibold mb-8">Atas kehadiran dan doa restunya, kami ucapkan terima kasih.</p>
                <h3 class="font-great-vibes text-5xl text-theme-gold">Riza & Wangi</h3>
            </div>
        </footer>
    </main>

    <div id="gift-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h3 class="font-great-vibes text-4xl text-theme-gold mb-4">Kirim Hadiah</h3>
            <p class="text-theme-dark-brown mb-6">Anda dapat mengirimkan hadiah pernikahan melalui transfer bank ke rekening berikut:</p>
            <div class="bg-white p-4 rounded-lg border border-dashed border-theme-gold text-left">
                <p class="font-bold text-theme-dark-brown">Bank Central Asia (BCA)</p>
                <p class="text-xl font-mono text-theme-dark-brown my-2" id="account-number">1234567890</p>
                <p class="font-semibold text-theme-dark-brown">a.n. Riza Zamzami</p>
            </div>
            <button id="copy-button" class="mt-6 bg-theme-brown text-white font-semibold py-2 px-6 rounded-full hover:bg-opacity-80 transition">
                <i class="fas fa-copy mr-2"></i>Salin Nomor Rekening
            </button>
            <p id="copy-feedback" class="text-green-600 mt-2 h-4"></p>
        </div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ once: true, duration: 1000, easing: 'ease-in-out' });

        // --- All Element Selectors ---
        const openButton = document.getElementById('open-invitation');
        const cover = document.getElementById('cover');
        const musicButton = document.getElementById('music-button');
        const musicIcon = document.getElementById('music-icon');
        const audio = document.getElementById('background-music');
        const body = document.querySelector('body');
        const giftModal = document.getElementById('gift-modal');
        const showGiftModalButton = document.getElementById('show-gift-modal');
        const closeButton = document.querySelector('.close-button');
        const copyButton = document.getElementById('copy-button');
        const guestbookForm = document.getElementById('guestbook-form');
        const guestbookList = document.getElementById('guestbook-list');
        const characterSelect = document.getElementById('wayang-character');
        const characterImage = document.getElementById('character-image');
        const generateAdviceButton = document.getElementById('generate-advice-button');
        const adviceOutput = document.getElementById('advice-output');

        // --- Event Listeners ---
        openButton.addEventListener('click', () => {
            cover.classList.add('hidden');
            body.style.overflowY = 'auto';
            musicButton.style.display = 'flex';
            audio.play().catch(error => console.log("Autoplay prevented. User must interact first."));
            updateMusicIcon();
        });

        musicButton.addEventListener('click', () => {
            audio.paused ? audio.play() : audio.pause();
            updateMusicIcon();
        });
        
        guestbookForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const name = document.getElementById('guest-name').value.trim();
            const message = document.getElementById('guest-message').value.trim();

            if (name && message) {
                const newWish = document.createElement('div');
                newWish.className = 'guestbook-card p-4 rounded-lg shadow';
                // Sanitize input to prevent HTML injection
                const safeName = document.createTextNode(name);
                const safeMessage = document.createTextNode(message);
                
                const nameHeader = document.createElement('h4');
                nameHeader.className = 'font-bold text-theme-dark-brown';
                nameHeader.appendChild(safeName);
                
                const messagePara = document.createElement('p');
                messagePara.className = 'text-theme-dark-brown italic';
                messagePara.textContent = `"${safeMessage.textContent}"`;

                newWish.appendChild(nameHeader);
                newWish.appendChild(messagePara);
                
                guestbookList.prepend(newWish);
                guestbookForm.reset();
            }
        });

        showGiftModalButton.addEventListener('click', () => { giftModal.style.display = 'flex'; });
        closeButton.addEventListener('click', () => { giftModal.style.display = 'none'; });
        window.addEventListener('click', (event) => { if (event.target == giftModal) giftModal.style.display = 'none'; });
        
        copyButton.addEventListener('click', () => {
            const accountNumber = document.getElementById('account-number').innerText;
            navigator.clipboard.writeText(accountNumber).then(() => {
                const feedback = document.getElementById('copy-feedback');
                feedback.innerText = 'Nomor rekening berhasil disalin!';
                setTimeout(() => { feedback.innerText = ''; }, 2000);
            }).catch(err => {
                console.error('Gagal menyalin: ', err);
            });
        });
        
        // Wayang Advice Logic
        characterSelect.addEventListener('change', (e) => {
            const selectedOption = e.target.selectedOptions[0];
            const imgSrc = selectedOption.getAttribute('data-img');
            characterImage.src = imgSrc;
            characterImage.alt = `Tokoh Wayang ${selectedOption.value}`;
        });

        generateAdviceButton.addEventListener('click', () => {
            const character = characterSelect.value;
            const advices = {
                Semar: "Urip iku urup. Hiduplah untuk menerangi, membawa kebaikan bagi sesama, dan selalu rendah hati dalam kebijaksanaan.",
                Kresna: "Kemenangan sejati bukanlah menaklukkan musuh, melainkan menaklukkan diri sendiri. Bertindaklah dengan strategi dan kebenaran.",
                Arjuna: "Fokuskan pikiranmu pada tujuan, jangan goyah oleh godaan dunia. Kesetiaan dan keteguhan hati adalah ksatria sejati.",
                Srikandi: "Jangan pernah ragu menunjukkan keberanianmu. Wanita adalah tiang negara, kuat dan mampu berdiri sejajar dengan siapa pun."
            };
            
            adviceOutput.textContent = `"${advices[character]}"`;
        });

        // --- Functions ---
        function updateMusicIcon() {
            if (audio.paused) {
                musicIcon.className = 'fas fa-play';
                musicButton.classList.remove('pulse');
            } else {
                musicIcon.className = 'fas fa-pause';
                musicButton.classList.add('pulse');
            }
        }
        
        function setupCountdown() {
            const targetDate = new Date('2025-10-02T09:00:00').getTime();
            const countdownElement = document.getElementById('countdown');
            
            const interval = setInterval(() => {
                const now = new Date().getTime();
                const diff = targetDate - now;
                
                if (diff < 0) {
                    clearInterval(interval);
                    countdownElement.innerHTML = "<div class='text-2xl w-full'>Acara Telah Berlangsung</div>";
                    return;
                }
                
                const d = Math.floor(diff / (1000 * 60 * 60 * 24));
                const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
                const s = Math.floor((diff % (1000 * 60)) / 1000);
                
                document.getElementById('days').innerText = d < 10 ? '0' + d : d;
                document.getElementById('hours').innerText = h < 10 ? '0' + h : h;
                document.getElementById('minutes').innerText = m < 10 ? '0' + m : m;
                document.getElementById('seconds').innerText = s < 10 ? '0' + s : s;
            }, 1000);
        }

        function setupGallerySlideshow() {
            const galleryImages = document.querySelectorAll('.gallery-image');
            let currentImageIndex = 0;

            if(galleryImages.length === 0) return;

            setInterval(() => {
                galleryImages[currentImageIndex].classList.remove('active');
                currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
                galleryImages[currentImageIndex].classList.add('active');
            }, 5000); // Change image every 5 seconds
        }

        // --- Initializations ---
        document.addEventListener('DOMContentLoaded', () => {
            setupCountdown();
            setupGallerySlideshow();
        });

    </script>
</body>
</html>
